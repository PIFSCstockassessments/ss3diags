<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Residual Analyses • ss3diags</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="../favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="../favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="../apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="../apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="../apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="../apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Residual Analyses">
<meta property="og:description" content="ss3diags">
<meta property="og:image" content="https://pifscstockassessments.github.io/ss3diags/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3diags</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/Retrospective-Analysis.html">Retrospective Analysis</a>
    </li>
    <li>
      <a href="../articles/hcxval.html">Hindcast Cross-Validation</a>
    </li>
    <li>
      <a href="../articles/likelihood.html">Likelihood Profile</a>
    </li>
    <li>
      <a href="../articles/residuals.html">Residual Analyses</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PIFSCstockassessments/ss3diags/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Residual Analyses</h1>
            
      
      <small class="dont-index">Source: <a href="https://github.com/PIFSCstockassessments/ss3diags/blob/HEAD/vignettes/articles/residuals.Rmd" class="external-link"><code>vignettes/articles/residuals.Rmd</code></a></small>
      <div class="hidden name"><code>residuals.Rmd</code></div>

    </div>

    
    
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/PIFSCstockassessments/ss3diags" class="external-link">ss3diags</a></span><span class="op">)</span></span></code></pre></div>
<p>Within the <code>ss3diags</code> package, there are 2 main diagnostic
functions useful for residual analysis:
<code><a href="../reference/SSplotRunstest.html">ss3diags::SSplotRunstest()</a></code> and
<code><a href="../reference/SSplotJABBAres.html">ss3diags::SSplotJABBAres()</a></code>. It is suggested to implement
these diagnostics early and often in the model development process to
gain a better understanding of how your model is fitting to your
data.</p>
<div class="section level2">
<h2 id="runs-test">Runs Test<a class="anchor" aria-label="anchor" href="#runs-test"></a>
</h2>
<p>The runs test is a nonparametric hypothesis test for randomness in a
data sequence that calculates the 2-sided p-value to estimate the number
of runs (i.e., sequences of values of the same sign) above and below a
reference value. The runs test can diagnose model misspecification using
residuals from fits to index and composition data (<a href="https://www.sciencedirect.com/science/article/pii/S0165783616303113" class="external-link">Carvalho
et al. 2017</a>) by testing if there are non-random patterns in the
residuals. In addition, the three-sigma limits can be considered useful
for identifying potential outliers as any data point further than three
standard deviations away from the expected residual process average
would be unlikely given a random process error in the observed residual
distribution.</p>
<p>For this example we will be using the “simple_small” SS model
included within the <code>r4ss</code> package. We can read in the report
file from the model output using the <code><a href="https://r4ss.github.io/r4ss/reference/SS_output.html" class="external-link">r4ss::SS_output()</a></code>
function as shown below.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/r4ss/r4ss" class="external-link">r4ss</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">files_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, <span class="st">"simple_small"</span>, package <span class="op">=</span> <span class="st">"r4ss"</span><span class="op">)</span></span>
<span><span class="va">report</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://r4ss.github.io/r4ss/reference/SS_output.html" class="external-link">SS_output</a></span><span class="op">(</span>dir <span class="op">=</span> <span class="va">files_path</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span>, printstats <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">report</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnostics w/ plots forIndex</span></span>
<span><span class="co">#&gt; Plotting Residual Runs Tests</span></span></code></pre></div>
<p><img src="residuals_files/figure-html/unnamed-chunk-3-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Index:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 SURVEY1  0.159 Passed -0.7301441 0.7301441 cpue</span></span>
<span><span class="co">#&gt; 2 SURVEY2  0.887 Passed -1.1052361 1.1052361 cpue</span></span></code></pre>
<p>The output for <code><a href="../reference/SSplotRunstest.html">SSplotRunstest()</a></code> includes a plot of the
residuals by fleet and a table with the results from the runs test and
‘three-sigma limit’ values. In the plots below, the shaded area
represents the ‘three-sigma limit’, or three residual standard
deviations from zero. If any of the individual residual points fall
outside of the three-sigma limit, they are colored red. Green shaded
area indicates the residuals are randomly distributed (p-value &gt;=
0.05) whereas red shaded area indicates the residuals are not randomly
distributed. Failing the runs test (p-value &lt; 0.05) can be indicative
of some misspecification or conflict with the indices or composition
data.</p>
<div class="section level3">
<h3 id="customizing-the-plot">Customizing the Plot<a class="anchor" aria-label="anchor" href="#customizing-the-plot"></a>
</h3>
<p>Runs test plots can be customized, some common features that you may
want to specify are:</p>
<ul>
<li>plotting other data types (default is Index of Abundance)</li>
<li>plotting specific fleet(s)</li>
<li>adjusting the y-axis range</li>
</ul>
<p>To plot other data types, they can be specified with the
<code>subplots</code> argument, and the options include “cpue”, “len”,
“age”, “size”, or “con”. “con” is for conditional size-at-age data and
“size” is for generalized size composition data. Fleets can be specified
using the <code>indexselect()</code> function, which takes a vector of
the fleet numbers to plot.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"len"</span>, indexselect <span class="op">=</span> <span class="fl">1</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnostics w/ plots forMean length</span></span>
<span><span class="co">#&gt; Plotting Residual Runs Tests</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Mean length:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 FISHERY  0.126 Passed -0.0613176 0.0613176  len</span></span>
<span><span class="fu"><a href="../reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"age"</span>, indexselect <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnostics w/ plots forMean age</span></span>
<span><span class="co">#&gt; Plotting Residual Runs Tests</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Mean age:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 SURVEY1   0.11 Passed -0.2743816 0.2743816  age</span></span>
<span><span class="fu"><a href="../reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"age"</span>, indexselect <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnostics w/ plots forMean age</span></span>
<span><span class="co">#&gt; Plotting Residual Runs Tests</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Mean age:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 SURVEY1   0.11 Passed -0.2743816 0.2743816  age</span></span>
<span><span class="fu"><a href="../reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"age"</span>, indexselect <span class="op">=</span> <span class="fl">2</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.5</span>, <span class="fl">0.5</span><span class="op">)</span>, ylimAdj <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnostics w/ plots forMean age</span></span>
<span><span class="co">#&gt; Plotting Residual Runs Tests</span></span></code></pre></div>
<p><img src="residuals_files/figure-html/unnamed-chunk-4-1.png" width="700"></p>
<pre><code><span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Mean age:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 SURVEY1   0.11 Passed -0.2743816 0.2743816  age</span></span></code></pre>
<p>Note that a small adjustment is automatically added to the ylim to
provide extra white space. This is why in the third plot, even though we
set the y-axis to range from -0.5 to 0.5, the y-axis goes from -0.6 to
0.6. If you do not want the extra space, set <code>ylimAdj = 1</code> as
done in the 4th plot.</p>
</div>
<div class="section level3">
<h3 id="summary-table">Summary Table<a class="anchor" aria-label="anchor" href="#summary-table"></a>
</h3>
<p>In addition to the residual plots, <code><a href="../reference/SSplotRunstest.html">SSplotRunstest()</a></code>
produces a summary table of the runs test output values, including:</p>
<ul>
<li>p-value for the runs test<br>
</li>
<li>if the test passed or failed (indicated by green or red shading in
the plot)</li>
<li>upper and lower limits for the 3-sigma interval</li>
<li>type of data tested (CPUE, length-composition, age-composition, or
conditional age-at-length)</li>
</ul>
<p>To only produce the summary table and skip the plot, e.g. to
faciliate automated processing, use <code><a href="../reference/SSrunstest.html">SSrunstest()</a></code>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">rcpue</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SSrunstest.html">SSrunstest</a></span><span class="op">(</span><span class="va">report</span>, quants <span class="op">=</span> <span class="st">"cpue"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnosics for Index</span></span>
<span><span class="co">#&gt; Computing Residual Runs Tests</span></span>
<span><span class="co">#&gt; Residual Runs Test stats by Index:</span></span>
<span><span class="va">rlen</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/SSrunstest.html">SSrunstest</a></span><span class="op">(</span><span class="va">report</span>, quants <span class="op">=</span> <span class="st">"len"</span><span class="op">)</span></span>
<span><span class="co">#&gt; Running Runs Test Diagnosics for Mean length</span></span>
<span><span class="co">#&gt; Computing Residual Runs Tests</span></span>
<span><span class="co">#&gt; Residual Runs Test stats by Mean length:</span></span>
<span><span class="fu"><a href="https://rdrr.io/r/base/cbind.html" class="external-link">rbind</a></span><span class="op">(</span><span class="va">rcpue</span>, <span class="va">rlen</span><span class="op">)</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 SURVEY1  0.159 Passed -0.7301441 0.7301441 cpue</span></span>
<span><span class="co">#&gt; 2 SURVEY2  0.887 Passed -1.1052361 1.1052361 cpue</span></span>
<span><span class="co">#&gt; 3 FISHERY  0.126 Passed -0.0613176 0.0613176  len</span></span>
<span><span class="co">#&gt; 4 SURVEY1  0.841 Passed -0.1725225 0.1725225  len</span></span></code></pre></div>
</div>
</div>
<div class="section level2">
<h2 id="rmse">RMSE<a class="anchor" aria-label="anchor" href="#rmse"></a>
</h2>
<p>RMSE or root mean square error is useful for evaluating how far
predictions fall from the observed data. The
<code><a href="../reference/SSplotJABBAres.html">ss3diags::SSplotJABBAres()</a></code> function allows you to visualize
the full time series of residuals for all fleets of the indicated data
(index of abundance or composition). In the example below, we plot the
residuals for index of abundance, mean age (age-composition), and mean
length (length composition) for both fleets.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>,<span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="../reference/SSplotJABBAres.html">SSplotJABBAres</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"cpue"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Plotting JABBA residual plot.</span></span>
<span><span class="co">#&gt; is plot TRUE? TRUE</span></span>
<span><span class="co">#&gt; drawing plot at</span></span>
<span><span class="co">#&gt; Plot exists:</span></span>
<span><span class="co">#&gt; RMSE stats by Index:</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   Fleet    RMSE.perc  Nobs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> SURVEY1       21.6     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> SURVEY2       27.7    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Combined      26.3    16</span></span>
<span><span class="fu"><a href="../reference/SSplotJABBAres.html">SSplotJABBAres</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"age"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Plotting JABBA residual plot.</span></span>
<span><span class="co">#&gt; is plot TRUE? TRUE</span></span>
<span><span class="co">#&gt; drawing plot at</span></span>
<span><span class="co">#&gt; Plot exists:</span></span>
<span><span class="co">#&gt; RMSE stats by Index:</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   Fleet    RMSE.perc  Nobs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FISHERY        9      12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> SURVEY1        8.1     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Combined       8.8    16</span></span>
<span><span class="fu"><a href="../reference/SSplotJABBAres.html">SSplotJABBAres</a></span><span class="op">(</span><span class="va">report</span>, subplots <span class="op">=</span> <span class="st">"len"</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="op">-</span><span class="fl">0.2</span>,<span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Plotting JABBA residual plot.</span></span>
<span><span class="co">#&gt; is plot TRUE? TRUE</span></span>
<span><span class="co">#&gt; drawing plot at</span></span>
<span><span class="co">#&gt; Plot exists:</span></span>
<span><span class="co">#&gt; RMSE stats by Index:</span></span>
<span><span class="co">#&gt; <span style="color: #949494;"># A tibble: 3 × 3</span></span></span>
<span><span class="co">#&gt;   Fleet    RMSE.perc  Nobs</span></span>
<span><span class="co">#&gt;   <span style="color: #949494; font-style: italic;">&lt;chr&gt;</span>        <span style="color: #949494; font-style: italic;">&lt;dbl&gt;</span> <span style="color: #949494; font-style: italic;">&lt;int&gt;</span></span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">1</span> FISHERY        2.1    12</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">2</span> SURVEY1        3.4     4</span></span>
<span><span class="co">#&gt; <span style="color: #BCBCBC;">3</span> Combined       2.5    16</span></span></code></pre></div>
<p><img src="residuals_files/figure-html/unnamed-chunk-6-1.png" width="700"></p>
<p>In the plots above, each point represents the difference between the
observed and expected value (residual) and is color-coded to correspond
to a specific fleet. The solid, color-coded vertical lines from the
horizontal dashed line (at y = 0) show the distance between 0 and the
residual value. Box plots summarize the spread of residual values across
all fleets within each year and the thick solid black line is a loess
smoother fit through all residual points. Total RMSE is displayed in the
top right corner. When assessing this plot, it is important to see if
there are any patterns or trends in the residuals, how large the overall
RMSE is, and whether the data from different fleets generally agrees or
conflicts with each other.</p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Henning Winker, Felipe Carvalho, Massimiliano Cardinale, Laurence Kell, Megumi Oshima, Eric Fletcher.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
