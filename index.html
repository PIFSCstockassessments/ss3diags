<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Stock Synthesis Model Diagnostics for Intergated Stock Assessments • ss3diags</title>
<!-- favicons --><link rel="icon" type="image/png" sizes="16x16" href="favicon-16x16.png">
<link rel="icon" type="image/png" sizes="32x32" href="favicon-32x32.png">
<link rel="apple-touch-icon" type="image/png" sizes="180x180" href="apple-touch-icon.png">
<link rel="apple-touch-icon" type="image/png" sizes="120x120" href="apple-touch-icon-120x120.png">
<link rel="apple-touch-icon" type="image/png" sizes="76x76" href="apple-touch-icon-76x76.png">
<link rel="apple-touch-icon" type="image/png" sizes="60x60" href="apple-touch-icon-60x60.png">
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="bootstrap-toc.css">
<script src="bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="pkgdown.css" rel="stylesheet">
<script src="pkgdown.js"></script><meta property="og:title" content="Stock Synthesis Model Diagnostics for Intergated Stock Assessments">
<meta property="og:description" content='Compilation of diagnostic functions for Stock Synthesis
    models, which developed for the manuscript "Using Model Diagnostics in
    Integrated Stock Assessments".'>
<meta property="og:image" content="https://pifscstockassessments.github.io/ss3diags/logo.svg">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-home">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="index.html">ss3diags</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.1.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="reference/index.html">Reference</a>
</li>
<li>
  <a href="news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/PIFSCstockassessments/ss3diags/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="contents col-md-9">
<div class="section level1">
<div class="page-header"><h1 id="ss3diags-">ss3diags <a href="http://pifscstockassessments.github.io/ss3diags/" class="external-link"><img src="reference/figures/logo.png" align="right"></a>
<a class="anchor" aria-label="anchor" href="#ss3diags-"></a>
</h1></div>
<!-- badges: start -->

<div class="section level3">
<h3 id="build-status">Build Status<a class="anchor" aria-label="anchor" href="#build-status"></a>
</h3>
<p>The R package <code>ss3diags</code> enables users to apply advanced diagnostics to evaluate a Stock Synthesis model. Diagnostics include residual analyses, hindcasting and cross-validation techniques, and retrospective analyses. Functions also allow users to reproduce the key model diagnostics plots that presented in the paper ‘A Cookbook for Using Model Diagnostics in Integrated Stock Assessments’.</p>
<p>A handbook with detailed <a href="https://github.com/jabbamodel/ss3diags/blob/master/Vignette/ss3diags_handbook.pdf" class="external-link">User guidelines for Advanced Model Diagnostics with ss3diags</a> is currently being finalized.</p>
<p>In addition, the ss3diags Github respository provides fully commented step-by-step R recipes on how to:</p>
<ul>
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/blob/master/Cookbook/Likelihood_profile_R0_example.R" class="external-link">Do log-likelood profiling for R0</a></li>
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/blob/master/Cookbook/Setup_ASPM_example.R" class="external-link">Run the ASPM diagnostic</a></li>
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/blob/master/Cookbook/Run_Retrospective_example.R" class="external-link">Conduct iterative hindcasts for restrospective analysis with forecasts</a></li>
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/blob/master/Cookbook/Jitter_test_example.R" class="external-link">Do Jitter tests</a></li>
</ul>
<p>with Stock Synthesis by making use of a comprehensive collection of R functions available in the R package <a href="https://github.com/r4ss/r4ss" class="external-link"><code>r4ss</code></a></p>
</div>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>ss3diags is not currently supported on CRAN. You can install the development version of ss3diags from <a href="https://github.com/" class="external-link">GitHub</a> with:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("remotes")</span></span>
<span><span class="fu">remotes</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"PIFSCstockassessments/ss3diags"</span><span class="op">)</span></span></code></pre></div>
<p>Once the package is installed it can be loaded by:</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/PIFSCstockassessments/ss3diags" class="external-link">ss3diags</a></span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="applying-ss3diags-for-model-diagnostics">Applying ss3diags for Model Diagnostics<a class="anchor" aria-label="anchor" href="#applying-ss3diags-for-model-diagnostics"></a>
</h2>
<div class="section level4">
<h4 id="example-model">Example Model<a class="anchor" aria-label="anchor" href="#example-model"></a>
</h4>
<p>For demonstration purposes, a simple, cod-like SS model was simulated using <a href="https://github.com/ss3sim/ss3sim" class="external-link">ss3sim</a>. The model includes 2 fleets, one fishery and one survey. Catch data is available from year 26 to year 100 (final year of model). An index of abundance is available from the survey fleet for years 62 - 100. No discard data was simulated. Simulated composition data includes length (fleets 1 and 2), age (fleets 1 and 2), and conditional age-at-length (fleet 1). The SS output for this model can be loaded into the environment using</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"simple"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level4">
<h4 id="residual-diagnostics">Residual Diagnostics<a class="anchor" aria-label="anchor" href="#residual-diagnostics"></a>
</h4>
<p>ss3diags provides 4 main functions to evaluate model misspecification: <code><a href="reference/SSplotRunstest.html">SSplotRunstest()</a></code> (and <code><a href="reference/SSrunstest.html">SSrunstest()</a></code>), <code><a href="reference/SSplotJABBAres.html">SSplotJABBAres()</a></code>, <code><a href="reference/SSplotRetro.html">SSplotRetro()</a></code>, and <code><a href="reference/SShcbias.html">SShcbias()</a></code>. A runs test is a test for randomness and in the runstest functions, it is applied to the residuals from model fits to abundance indices or composition data. Below, we show an example of performing a runs test on the index, length composition, and conditional age-at-length fits.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">simple</span>, subplots <span class="op">=</span> <span class="st">"cpue"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Index:</span></span>
<span><span class="co">#&gt;    Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 Survey  0.033 Failed -0.4320694 0.4320694 cpue</span></span>
<span><span class="fu"><a href="reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">simple</span>, subplots <span class="op">=</span> <span class="st">"len"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Mean length:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 Fishery  0.724 Passed -0.1454301 0.1454301  len</span></span>
<span><span class="co">#&gt; 2  Survey  0.338 Passed -0.1105796 0.1105796  len</span></span>
<span><span class="fu"><a href="reference/SSplotRunstest.html">SSplotRunstest</a></span><span class="op">(</span><span class="va">simple</span>, subplots <span class="op">=</span> <span class="st">"con"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Residual Runs Test (/w plot) stats by Conditional age-at-length:</span></span>
<span><span class="co">#&gt;     Index runs.p   test  sigma3.lo sigma3.hi type</span></span>
<span><span class="co">#&gt; 1 Fishery    0.5 Passed -0.1491212 0.1491212  con</span></span></code></pre></div>
<p><img src="reference/figures/README-simpleRuns-1.png" width="100%"> The output for <code><a href="reference/SSplotRunstest.html">SSplotRunstest()</a></code> includes a plot of the residuals by fleet and a table with the results from the runs test and ‘three-sigma limit’ values. In the plots above, the shaded area represents the ‘three-sigma limit’, or three residual standard deviations from zero. If any of the individual residual points fall outside of the three-sigma limit, they are colored red as in the fishery length-composition. Green shaded area indicates the residuals are randomly distributed (p-value &gt;= 0.05) and red shaded area indicates the residuals are not randomly distributed and there is some misspecification with the indices or composition data (p-value &lt; 0.05). In addition to the residual plots, <code><a href="reference/SSplotRunstest.html">SSplotRunstest()</a></code> produces a summary table of the runs test output values, including:</p>
<ul>
<li>p-value for the runs test<br>
</li>
<li>if the test passed or failed (indicated by green or red shading in the plot)</li>
<li>upper and lower limits for the 3-sigma interval</li>
<li>type of data tested (cpue, length-composition, age-composition, or conditional age-at-length)</li>
</ul>
<p>To only produce the summary table and skip the plot, use <code><a href="reference/SSrunstest.html">SSrunstest()</a></code>.</p>
<p>The second function for residual diagnostics is the function <code><a href="reference/SSplotJABBAres.html">SSplotJABBAres()</a></code>. This function is from the R package <a href="https://github.com/jabbamodel/JABBA" class="external-link">JABBA</a> and plots a timeseries of residuals for all fleets of the indicated data (cpue or composition). In the example below, we plot the residuals for the mean age (age-composition) and mean length (length-composition) for both fleets.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plot.cex <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/SSplotJABBAres.html">SSplotJABBAres</a></span><span class="op">(</span><span class="va">simple</span>, subplots <span class="op">=</span> <span class="st">"age"</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, seas <span class="op">=</span> <span class="st">"comb"</span><span class="op">)</span></span>
<span><span class="co">#&gt; RMSE stats by Index:</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span><span class="co">#&gt;   Fleet    RMSE.perc  Nobs</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Fishery        9.3    69</span></span>
<span><span class="co">#&gt; 2 Survey         5.1    20</span></span>
<span><span class="co">#&gt; 3 Combined       8.5    89</span></span>
<span><span class="fu"><a href="reference/SSplotJABBAres.html">SSplotJABBAres</a></span><span class="op">(</span><span class="va">simple</span>, subplots <span class="op">=</span> <span class="st">"len"</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, seas <span class="op">=</span> <span class="st">"comb"</span><span class="op">)</span></span>
<span><span class="co">#&gt; RMSE stats by Index:</span></span>
<span><span class="co">#&gt; # A tibble: 3 × 3</span></span>
<span><span class="co">#&gt;   Fleet    RMSE.perc  Nobs</span></span>
<span><span class="co">#&gt;   &lt;chr&gt;        &lt;dbl&gt; &lt;int&gt;</span></span>
<span><span class="co">#&gt; 1 Fishery        4.5    75</span></span>
<span><span class="co">#&gt; 2 Survey         3.4    20</span></span>
<span><span class="co">#&gt; 3 Combined       4.3    95</span></span></code></pre></div>
<p><img src="reference/figures/README-JABBAruns-1.png" width="100%"></p>
<p>The plots above show the residuals for both fishery and survey length and age-composition data for each year, and the black line is a LOESS smoother fit to all of the residuals. When data from multiple fleets are avaialble in a year, a boxplot is displayed to show the median and quantiles for that year. Additionally, the root-mean squared error is reported in the top right-hand corner to indicate how well the model fits the data (lower RMSE indicates better fit).</p>
</div>
<div class="section level4">
<h4 id="retrospective-and-forecast-bias">Retrospective and Forecast Bias<a class="anchor" aria-label="anchor" href="#retrospective-and-forecast-bias"></a>
</h4>
<p>Retrospective analysis is commonly used to check the consistency of model estimates such as spawning stock biomass (SSB) and fishing mortality (F) as the model is updated with new data in retrospect. The retrospective analysis involves sequentially removing observations from the terminal year (i.e., peels), fitting the model to the truncated series, and then comparing the relative difference between model estimates from the full-time series with the truncated time-series. Steps to conduct a retrospective analysis with a Stock Synthesis model are documented <a href="/Cookbook/Run_Retrospective_example.R">here</a>. An example of a retrospective analysis can be loaded in for use and summarized by:</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/data.html" class="external-link">data</a></span><span class="op">(</span><span class="st">"retroSimple"</span><span class="op">)</span></span>
<span><span class="va">sumSimple</span> <span class="op">&lt;-</span> <span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/SSsummarize.html" class="external-link">SSsummarize</a></span><span class="op">(</span><span class="va">retroSimple</span><span class="op">)</span></span></code></pre></div>
<p>Note that <code>SSsummarize()</code> summarises the modelled quantities and abundance indices but not composition data. To plot the output from the retrospective analysis you can use the function</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plot.cex <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/SSplotRetro.html">SSplotRetro</a></span><span class="op">(</span><span class="va">sumSimple</span>, subplots <span class="op">=</span> <span class="st">"SSB"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mohn's Rho stats, including one step ahead forecasts:</span></span>
<span><span class="co">#&gt;   type     peel         Rho  ForecastRho</span></span>
<span><span class="co">#&gt; 1  SSB       99 0.007769174 -0.006152424</span></span>
<span><span class="co">#&gt; 2  SSB       98 0.075590953  0.069386314</span></span>
<span><span class="co">#&gt; 3  SSB       97 0.207121898  0.229780185</span></span>
<span><span class="co">#&gt; 4  SSB       96 0.202493492  0.211816848</span></span>
<span><span class="co">#&gt; 5  SSB       95 0.245173711  0.254376716</span></span>
<span><span class="co">#&gt; 6  SSB Combined 0.147629846  0.151841528</span></span>
<span><span class="fu"><a href="reference/SSplotRetro.html">SSplotRetro</a></span><span class="op">(</span><span class="va">sumSimple</span>, subplots <span class="op">=</span> <span class="st">"F"</span>, add <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mohn's Rho stats, including one step ahead forecasts:</span></span>
<span><span class="co">#&gt;   type     peel         Rho  ForecastRho</span></span>
<span><span class="co">#&gt; 1    F       99 -0.00509569  0.006707778</span></span>
<span><span class="co">#&gt; 2    F       98 -0.06829083 -0.057673536</span></span>
<span><span class="co">#&gt; 3    F       97 -0.17225678 -0.184649147</span></span>
<span><span class="co">#&gt; 4    F       96 -0.16735016 -0.175990996</span></span>
<span><span class="co">#&gt; 5    F       95 -0.19535279 -0.199995306</span></span>
<span><span class="co">#&gt; 6    F Combined -0.12166925 -0.122320241</span></span></code></pre></div>
<p><img src="reference/figures/README-retroSimple_plots-1.png" width="100%"></p>
<p>Retrospective analysis is useful to evaluate how consistent the modeled quantities are in retrospect. However, providing fisheries management advice requires predicting a stock’s response to management and checking that predictions are consistent when updated by new data in the future. A first, intuitive extension of the retrospective analysis is to assess potential forecast bias by adding the additional step of forward projecting quantities, such as SSB, over the truncated years. This can be visualized by adding <code>forecast = TRUE</code> in the function above.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">r4ss</span><span class="fu">::</span><span class="fu"><a href="https://r4ss.github.io/r4ss/reference/sspar.html" class="external-link">sspar</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, plot.cex <span class="op">=</span> <span class="fl">0.8</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/SSplotRetro.html">SSplotRetro</a></span><span class="op">(</span><span class="va">sumSimple</span>, subplots <span class="op">=</span> <span class="st">"SSB"</span>, forecast <span class="op">=</span> <span class="cn">TRUE</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">94</span>, <span class="fl">100</span><span class="op">)</span>, uncertainty <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mohn's Rho stats, including one step ahead forecasts:</span></span>
<span><span class="co">#&gt;   type     peel         Rho  ForecastRho</span></span>
<span><span class="co">#&gt; 1  SSB       99 0.007769174 -0.006152424</span></span>
<span><span class="co">#&gt; 2  SSB       98 0.075590953  0.069386314</span></span>
<span><span class="co">#&gt; 3  SSB       97 0.207121898  0.229780185</span></span>
<span><span class="co">#&gt; 4  SSB       96 0.202493492  0.211816848</span></span>
<span><span class="co">#&gt; 5  SSB       95 0.245173711  0.254376716</span></span>
<span><span class="co">#&gt; 6  SSB Combined 0.147629846  0.151841528</span></span>
<span><span class="fu"><a href="reference/SSplotRetro.html">SSplotRetro</a></span><span class="op">(</span><span class="va">sumSimple</span>, subplots <span class="op">=</span> <span class="st">"F"</span>, forecast <span class="op">=</span> <span class="cn">TRUE</span>, add <span class="op">=</span> <span class="cn">TRUE</span>, xlim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">94</span>, <span class="fl">100</span><span class="op">)</span>, uncertainty <span class="op">=</span> <span class="cn">FALSE</span>, ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.16</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="co">#&gt; Mohn's Rho stats, including one step ahead forecasts:</span></span>
<span><span class="co">#&gt;   type     peel         Rho  ForecastRho</span></span>
<span><span class="co">#&gt; 1    F       99 -0.00509569  0.006707778</span></span>
<span><span class="co">#&gt; 2    F       98 -0.06829083 -0.057673536</span></span>
<span><span class="co">#&gt; 3    F       97 -0.17225678 -0.184649147</span></span>
<span><span class="co">#&gt; 4    F       96 -0.16735016 -0.175990996</span></span>
<span><span class="co">#&gt; 5    F       95 -0.19535279 -0.199995306</span></span>
<span><span class="co">#&gt; 6    F Combined -0.12166925 -0.122320241</span></span>
<span><span class="co"># Note xlim and ylim were adjusted manually and uncertainty intervals were removed to better display the forecasted estimates</span></span></code></pre></div>
<p><img src="reference/figures/README-retroSimple_forecast_plots-1.png" width="100%"></p>
<p>In addition to the retrospective plots, a summary statistics table can be produced using <code><a href="reference/SShcbias.html">SShcbias()</a></code>. This table includes * type of estimate (SSB or F) * the year removed or “peel” * mohn’s rho * forecast bias</p>
<p>by year and overall (“Combined”). Mohn’s rho is a measure of the severity of bias in the retrospective patterns and the forecast bias is an estimate of bias in the forecasted quantities when years of data were removed.</p>
</div>
<div class="section level4">
<h4 id="further-diagnostics">Further Diagnostics<a class="anchor" aria-label="anchor" href="#further-diagnostics"></a>
</h4>
<p>For more advanced model diagnostics we provide the functions <code><a href="reference/SSplotHCxval.html">SSplotHCxval()</a></code> and <code><a href="reference/SSmase.html">SSmase()</a></code> for evaluating hindcast cross-validation and prediction skill. To evaluate model uncertainty, we provide the functions <code><a href="reference/SSdeltaMVLN.html">SSdeltaMVLN()</a></code>, <code><a href="reference/SSplotEnsemble.html">SSplotEnsemble()</a></code>, and <code><a href="reference/SSplotKobe.html">SSplotKobe()</a></code>.</p>
</div>
</div>
<div class="section level2">
<h2 id="contributing-to-ss3diags">Contributing to ss3diags<a class="anchor" aria-label="anchor" href="#contributing-to-ss3diags"></a>
</h2>
<p>If you would like to contribute to ss3diags or have suggestions for diagnostic tests to include in the package, you can submit a new <a href="https://github.com/PIFSCstockassessments/ss3diags/issues" class="external-link">issue</a> or at <a href="mailto:megumi.oshima@noaa.gov" class="email">megumi.oshima@noaa.gov</a>.</p>
</div>
<div class="section level2">
<h2 id="reference">Reference<a class="anchor" aria-label="anchor" href="#reference"></a>
</h2>
<p>To cite ss3diags for a publication you can use</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="https://rdrr.io/r/utils/citation.html" class="external-link">citation</a></span><span class="op">(</span><span class="st">"ss3diags"</span><span class="op">)</span></span>
<span><span class="co">#&gt; To cite package 'ss3diags' in publications use:</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   Winker H, Carvalho F, Cardinale M, Kell L, Oshima M, Fletcher E</span></span>
<span><span class="co">#&gt;   (2022). _ss3diags: Stock Synthesis Model Diagnostics for Intergated</span></span>
<span><span class="co">#&gt;   Stock Assessments_. R package version 2.1.0,</span></span>
<span><span class="co">#&gt;   &lt;https://github.com/PIFSCstockassessments/ss3diags&gt;.</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt; A BibTeX entry for LaTeX users is</span></span>
<span><span class="co">#&gt; </span></span>
<span><span class="co">#&gt;   @Manual{,</span></span>
<span><span class="co">#&gt;     title = {ss3diags: Stock Synthesis Model Diagnostics for Intergated Stock</span></span>
<span><span class="co">#&gt; Assessments},</span></span>
<span><span class="co">#&gt;     author = {Henning Winker and Felipe Carvalho and Massimiliano Cardinale and Laurence Kell and Megumi Oshima and Eric Fletcher},</span></span>
<span><span class="co">#&gt;     year = {2022},</span></span>
<span><span class="co">#&gt;     note = {R package version 2.1.0},</span></span>
<span><span class="co">#&gt;     url = {https://github.com/PIFSCstockassessments/ss3diags},</span></span>
<span><span class="co">#&gt;   }</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="disclaimer">Disclaimer<a class="anchor" aria-label="anchor" href="#disclaimer"></a>
</h2>
<p>The United States Department of Commerce (DOC) GitHub project code is provided on an ‘as is’ basis and the user assumes responsibility for its use. DOC has relinquished control of the information and no longer has responsibility to protect the integrity, confidentiality, or availability of the information. Any claims against the Department of Commerce stemming from the use of its GitHub project will be governed by all applicable Federal law. Any reference to specific commercial products, processes, or services by service mark, trademark, manufacturer, or otherwise, does not constitute or imply their endorsement, recommendation or favoring by the Department of Commerce. The Department of Commerce seal and logo, or the seal and logo of a DOC bureau, shall not be used in any manner to imply endorsement of any commercial product or activity by DOC or the United States Government.”</p>
<!-- What is special about using `README.Rmd` instead of just `README.md`? You can include R chunks

You'll still need to render `README.Rmd` regularly, to keep `README.md` up-to-date. `devtools::build_readme()` is handy for this. You could also use GitHub Actions to re-render `README.Rmd` every time you push. An example workflow can be found here: <https://github.com/r-lib/actions/tree/v1/examples>.

In that case, don't forget to commit and push the resulting figure files, so they display on GitHub and CRAN.-->
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>EUPL</li>
</ul>
</div>

<div class="community">
<h2 data-toc-skip>Community</h2>
<ul class="list-unstyled">
<li><a href="CONTRIBUTING.html">Contributing guide</a></li>
<li><a href="CODE_OF_CONDUCT.html">Code of conduct</a></li>
</ul>
</div>

<div class="citation">
<h2 data-toc-skip>Citation</h2>
<ul class="list-unstyled">
<li><a href="authors.html#citation">Citing ss3diags</a></li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>Henning Winker <br><small class="roles"> Author </small>  </li>
<li>Felipe Carvalho <br><small class="roles"> Author </small>  </li>
<li>Massimiliano Cardinale <br><small class="roles"> Author </small>  </li>
<li>Laurence Kell <br><small class="roles"> Author </small>  </li>
<li>Megumi Oshima <br><small class="roles"> Author, maintainer </small>  </li>
<li>Eric Fletcher <br><small class="roles"> Author </small>  </li>
</ul>
</div>

<div class="dev-status">
<h2 data-toc-skip>Dev status</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/PIFSCstockassessments/ss3diags/actions" class="external-link"><img src="https://github.com/r4ss/r4ss/workflows/R-CMD-check/badge.svg" alt="R-CMD-check"></a></li>
</ul>
</div>

  </div>
</div>


      <footer><div class="copyright">
  <p></p>
<p>Developed by Henning Winker, Felipe Carvalho, Massimiliano Cardinale, Laurence Kell, Megumi Oshima, Eric Fletcher.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
