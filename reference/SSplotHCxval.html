<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8"><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0"><title>Hindcasting Cross-Validations of Multiple Models — SSplotHCxval • ss3diags</title><!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous"><script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css"><script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous"><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet"><script src="../pkgdown.js"></script><meta property="og:title" content="Hindcasting Cross-Validations of Multiple Models — SSplotHCxval"><meta property="og:description" content="Plots one-step ahead hindcasting cross-validations and computes MASE from prediction residuals.
MASE is calculated as the average ratio of mean absolute error (MAE) of prediction residuals (MAE.PR) and naive predictions (MAE.base)
MASE.adj sets the MAE.base to a minimum MAE.base.adj (default=0.1)
MASE.adj allow passing (MASE&amp;lt;1) if MAE.PE &amp;lt; 0.1 and thus accurate if obs show very little annual variation"><!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]--></head><body data-spy="scroll" data-target="#toc">
    

    <div class="container template-reference-topic">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">ss3diags</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2.0.1</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav"><li>
  <a href="../reference/index.html">Reference</a>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul><ul class="nav navbar-nav navbar-right"><li>
  <a href="https://github.com/PIFSCstockassessments/ss3diags/" class="external-link">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul></div><!--/.nav-collapse -->
  </div><!--/.container -->
</div><!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header">
    <h1>Hindcasting Cross-Validations of Multiple Models</h1>
    <small class="dont-index">Source: <a href="https://github.com/PIFSCstockassessments/ss3diags/blob/HEAD/R/SSplotHCxval.R" class="external-link"><code>R/SSplotHCxval.R</code></a></small>
    <div class="hidden name"><code>SSplotHCxval.Rd</code></div>
    </div>

    <div class="ref-description">
    <p>Plots one-step ahead hindcasting cross-validations and computes MASE from prediction residuals.
MASE is calculated as the average ratio of mean absolute error (MAE) of prediction residuals (MAE.PR) and naive predictions (MAE.base)
MASE.adj sets the MAE.base to a minimum MAE.base.adj (default=0.1)
MASE.adj allow passing (MASE&lt;1) if MAE.PE &lt; 0.1 and thus accurate if obs show very little annual variation</p>
    </div>

    <div id="ref-usage">
    <div class="sourceCode"><pre class="sourceCode r"><code><span class="fu">SSplotHCxval</span><span class="op">(</span>
  <span class="va">retroSummary</span>,
  subplots <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"cpue"</span>, <span class="st">"len"</span>, <span class="st">"age"</span><span class="op">)</span>,
  Season <span class="op">=</span> <span class="st">"default"</span>,
  print <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,
  print_plot <span class="op">=</span> <span class="cn">FALSE</span>,
  png <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,
  use_png <span class="op">=</span> <span class="va">print_plot</span>,
  pdf <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/Deprecated.html" class="external-link">deprecated</a></span><span class="op">(</span><span class="op">)</span>,
  use_pdf <span class="op">=</span> <span class="cn">FALSE</span>,
  models <span class="op">=</span> <span class="st">"all"</span>,
  endyrvec <span class="op">=</span> <span class="st">"default"</span>,
  xmin <span class="op">=</span> <span class="cn">NULL</span>,
  indexselect <span class="op">=</span> <span class="cn">NULL</span>,
  MAE.base.adj <span class="op">=</span> <span class="fl">0.1</span>,
  show.mase.adj <span class="op">=</span> <span class="cn">TRUE</span>,
  indexUncertainty <span class="op">=</span> <span class="cn">TRUE</span>,
  col <span class="op">=</span> <span class="cn">NULL</span>,
  pch <span class="op">=</span> <span class="cn">NULL</span>,
  lty <span class="op">=</span> <span class="fl">1</span>,
  lwd <span class="op">=</span> <span class="fl">2</span>,
  tickEndYr <span class="op">=</span> <span class="cn">TRUE</span>,
  xlim <span class="op">=</span> <span class="st">"default"</span>,
  ylimAdj <span class="op">=</span> <span class="fl">1.15</span>,
  ylim <span class="op">=</span> <span class="cn">NULL</span>,
  xaxs <span class="op">=</span> <span class="st">"i"</span>,
  yaxs <span class="op">=</span> <span class="st">"i"</span>,
  xylabs <span class="op">=</span> <span class="cn">TRUE</span>,
  type <span class="op">=</span> <span class="st">"o"</span>,
  uncertainty <span class="op">=</span> <span class="cn">TRUE</span>,
  legend <span class="op">=</span> <span class="cn">TRUE</span>,
  legendlabels <span class="op">=</span> <span class="st">"default"</span>,
  legendloc <span class="op">=</span> <span class="st">"topright"</span>,
  legendorder <span class="op">=</span> <span class="st">"default"</span>,
  legendncol <span class="op">=</span> <span class="fl">1</span>,
  legendcex <span class="op">=</span> <span class="fl">1</span>,
  legendsp <span class="op">=</span> <span class="fl">0.9</span>,
  legendindex <span class="op">=</span> <span class="cn">NULL</span>,
  pwidth <span class="op">=</span> <span class="fl">6.5</span>,
  pheight <span class="op">=</span> <span class="fl">5</span>,
  punits <span class="op">=</span> <span class="st">"in"</span>,
  res <span class="op">=</span> <span class="fl">300</span>,
  ptsize <span class="op">=</span> <span class="fl">10</span>,
  cex.main <span class="op">=</span> <span class="fl">1</span>,
  plotdir <span class="op">=</span> <span class="cn">NULL</span>,
  filenameprefix <span class="op">=</span> <span class="st">""</span>,
  par <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">5</span>, <span class="fl">4</span>, <span class="fl">1</span>, <span class="fl">1</span><span class="op">)</span> <span class="op">+</span> <span class="fl">0.1</span><span class="op">)</span>,
  verbose <span class="op">=</span> <span class="cn">TRUE</span>,
  shadecol <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.4</span><span class="op">)</span>,
  shadecol2 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.4</span><span class="op">)</span>,
  shadealpha <span class="op">=</span> <span class="fl">0.3</span>,
  new <span class="op">=</span> <span class="cn">TRUE</span>,
  add <span class="op">=</span> <span class="cn">FALSE</span>,
  mcmcVec <span class="op">=</span> <span class="cn">FALSE</span>,
  indexQlabel <span class="op">=</span> <span class="cn">TRUE</span>,
  indexQdigits <span class="op">=</span> <span class="fl">4</span>,
  indexfleets <span class="op">=</span> <span class="fl">1</span>,
  plot <span class="op">=</span> <span class="cn">TRUE</span>,
  shadecol1 <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/grDevices/gray.html" class="external-link">grey</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">0.4</span><span class="op">)</span>
<span class="op">)</span></code></pre></div>
    </div>

    <div id="arguments">
    <h2>Arguments</h2>
    <dl><dt>retroSummary</dt>
<dd><p>List created by r4ss::SSsummarize() or ss3diags::SSretroComps()</p></dd>
<dt>subplots</dt>
<dd><p>optional use of c("cpue","len","age"), yet to be tested for age.</p></dd>
<dt>Season</dt>
<dd><p>option to specify Season - Default uses first available, i.e. usual Seas = 1</p></dd>
<dt>print</dt>
<dd><p>Deprecated. Please use 'print_plot'.</p></dd>
<dt>print_plot</dt>
<dd><p>Option to print to PNG files</p></dd>
<dt>png</dt>
<dd><p>Deprecated, please use 'use_png'.</p></dd>
<dt>use_png</dt>
<dd><p>Draw plots in PNG format</p></dd>
<dt>pdf</dt>
<dd><p>PDF plots. Deprecated. Please use use_pdf.</p></dd>
<dt>use_pdf</dt>
<dd><p>option for pdf plots</p></dd>
<dt>models</dt>
<dd><p>Optional subset of the models described in
r4ss function summaryoutput().  Either "all" or a vector of numbers indicating
columns in summary tables.</p></dd>
<dt>endyrvec</dt>
<dd><p>Optional single year or vector of years representing the
final year of values to show for each model. By default it is set to the
ending year specified in each model.</p></dd>
<dt>xmin</dt>
<dd><p>optional number first year shown in plot (if available)</p></dd>
<dt>indexselect</dt>
<dd><p>= Vector of fleet numbers for each model for which to compare</p></dd>
<dt>MAE.base.adj</dt>
<dd><p>minimum MASE denominator (naive predictions) for MASE.adj (default = 0.1)</p></dd>
<dt>show.mase.adj</dt>
<dd><p>if TRUE it show mase.adj in () in plot</p></dd>
<dt>indexUncertainty</dt>
<dd><p>Show fixed uncertainty intervals on index (not estimated)</p></dd>
<dt>col</dt>
<dd><p>Optional vector of colors to be used for lines. Input NULL</p></dd>
<dt>pch</dt>
<dd><p>Optional vector of plot character values</p></dd>
<dt>lty</dt>
<dd><p>Optional vector of line types</p></dd>
<dt>lwd</dt>
<dd><p>Optional vector of line widths</p></dd>
<dt>tickEndYr</dt>
<dd><p>TRUE/FALSE switch to turn on/off extra axis mark at final
year in timeseries plots.</p></dd>
<dt>xlim</dt>
<dd><p>Optional, values for x-axis range of years to display on plot. Default = "default" displays all years of available data. (currently not in use)</p></dd>
<dt>ylimAdj</dt>
<dd><p>Multiplier for ylim parameter. Allows additional white space</p></dd>
<dt>ylim</dt>
<dd><p>will over-write ylimAdj if specified</p></dd>
<dt>xaxs</dt>
<dd><p>Choice of xaxs parameter (see ?par for more info)</p></dd>
<dt>yaxs</dt>
<dd><p>Choice of yaxs parameter (see ?par for more info)</p></dd>
<dt>xylabs</dt>
<dd><p>TRUE or FALSE, include x- and y-axis labels</p></dd>
<dt>type</dt>
<dd><p>Type parameter passed to points (default 'o' overplots points on
top of lines)</p></dd>
<dt>uncertainty</dt>
<dd><p>TRUE/FALSE include uncertainty intervals around SSB or F estimated timeseries. Defaults to TRUE.</p></dd>
<dt>legend</dt>
<dd><p>Option to add a legend. TRUE by default.</p></dd>
<dt>legendlabels</dt>
<dd><p>Optional vector of labels to include in legend.</p></dd>
<dt>legendloc</dt>
<dd><p>Location of legend. Either a string like "topleft" or a vector
of two numeric values representing the fraction of the maximum in the x and y
dimensions, respectively. See ?legend for more info on the string options.</p></dd>
<dt>legendorder</dt>
<dd><p>Optional vector of model numbers that can be used to have
the legend display the model names in an order that is different than that
which is represented in the summary input object.</p></dd>
<dt>legendncol</dt>
<dd><p>Number of columns for the legend.</p></dd>
<dt>legendcex</dt>
<dd><p>Allows to adjust legend cex</p></dd>
<dt>legendsp</dt>
<dd><p>Space between legend labels</p></dd>
<dt>legendindex</dt>
<dd><p>Allows to add legend for selected indices (plots)</p></dd>
<dt>pwidth</dt>
<dd><p>Width of plot</p></dd>
<dt>pheight</dt>
<dd><p>Height of plot</p></dd>
<dt>punits</dt>
<dd><p>Units for PNG file</p></dd>
<dt>res</dt>
<dd><p>Resolution for PNG file</p></dd>
<dt>ptsize</dt>
<dd><p>Point size for PNG file</p></dd>
<dt>cex.main</dt>
<dd><p>Character expansion for plot titles</p></dd>
<dt>plotdir</dt>
<dd><p>Directory where PNG or PDF files will be written. By default
it will be the directory where the model was run.</p></dd>
<dt>filenameprefix</dt>
<dd><p>Additional text to append to PNG or PDF file names.
It will be separated from default name by an underscore.</p></dd>
<dt>par</dt>
<dd><p>list of graphics parameter values passed to par() function</p></dd>
<dt>verbose</dt>
<dd><p>Report progress to R GUI?</p></dd>
<dt>shadecol</dt>
<dd><p>uncertainty shading of hcxval horizon</p></dd>
<dt>shadecol2</dt>
<dd><p>color for uncertainty in early years not affected by hindcast</p></dd>
<dt>shadealpha</dt>
<dd><p>Transparancy adjustment used to make default shadecol. (currently not used)</p></dd>
<dt>new</dt>
<dd><p>Create new empty plot window</p></dd>
<dt>add</dt>
<dd><p>suppresses par() to create multiplot figs</p></dd>
<dt>mcmcVec</dt>
<dd><p>NOT TESTED Vector of TRUE/FALSE values (or single value) indicating</p></dd>
<dt>indexQlabel</dt>
<dd><p>Add catchability to legend in plot of index fits (TRUE/FALSE)?</p></dd>
<dt>indexQdigits</dt>
<dd><p>Number of significant digits for catchability in legend</p></dd>
<dt>indexfleets</dt>
<dd><p>CHECK IF NEEDED or how to adjust indexfleets</p></dd>
<dt>plot</dt>
<dd><p>Deprecated. Plots (and subplots) are drawn to the active plot device
by default (TRUE), and the option to disable this, via FALSE, is unused.</p></dd>
<dt>shadecol1</dt>
<dd><p>uncertainty shading of early years not affected by hindcast (currently not used)</p></dd>
</dl></div>
    <div id="author">
    <h2>Author</h2>
    <p>Henning Winker (JRC-EC) and Laurence Kell (Sea++)</p>
    </div>

  </div>
  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">
    <nav id="toc" data-toggle="toc" class="sticky-top"><h2 data-toc-skip>Contents</h2>
    </nav></div>
</div>


      <footer><div class="copyright">
  <p></p><p>Developed by Henning Winker, Felipe Carvalho, Massimiliano Cardinale, Laurence Kell, Megumi Oshima, Eric Fletcher.</p>
</div>

<div class="pkgdown">
  <p></p><p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.2.</p>
</div>

      </footer></div>

  


  

  </body></html>

